#!/bin/bash
# rc stuff for my own small coding projects
echo "Sourcing coding rc                         from ~/.bashrc_coding"


#-------------------------
# VARIABLES
#-------------------------

    export COD="$HOME/coding/"
    export CT="$COD/coding_templates"
    export CPJ="$COD/projekte"
    export PJ=$CPJ
    export WB="$COD/workbench"
    export PLG="$WB"

    export NOT="$HOME/EPFL/notes"
    export RAMSESEXEC="$WB/ramses"




#-------------------------
# ALIASES
#-------------------------


    # Templates
    alias templ="cd $CT"                        # go to templates
    alias t=templ
    alias ft="cd $CT/fortran"                   # go to fortran templates
    alias pt="cd $CT/python/python3"            # go to python templates
    alias ct="cd $CT/c"                         # go to C templates
    alias cppt="cd $CT/cpp"                     # go to C++ templates
    alias ppt="cd $CT/python/python3/plots"     # go to python plot templates
    alias bt="cd $CT/bash"                      # go to bash templates
    alias lt="cd $CT/LaTeX"                     # go to LaTeX templates
    alias rcf="cd $CT/rc-files"                 # go to LaTeX templates


    # Projects
    alias plg="cd $WB"                          # go to workbench
    alias wb="cd $WB"                           # go to workbench
    alias pj="cd $CPJ"                          # go to projects
    alias f="cd $CPJ/formelsammlung"            # go to formelsammlung
    alias g="cd $CPJ/glossar"                   # go to glossary
    alias sph="cd $CPJ/SPH"                     # go to SPH project
    alias scr="cd $CPJ/scripts"                 # go to scripts dir
    alias rie="cd $CPJ/riemann"                 # go to riemann solver project
    alias godunov="cd $CPJ/godunov"             # go to godunov project

    alias deb="cd $NOT/debugging/source"        # go to debugging notes
    alias ins="cd $NOT/instructions/source"     # go to instructions notes




    # RAMSES stuff
    alias ramses="cd $APPDIR/ramses/"
    alias pa='cd "$APPDIR"/ramses/patch/mergertree'
    alias pao='cd "$APPDIR"/ramses/patch/original_mergertree'
    alias exec="cd $RAMSESEXEC"
    alias te='cd "$RAMSESEXEC"/testing'
    alias two='cd "$RAMSESEXEC"/dice_two'
    alias sub='cd "$RAMSESEXEC"/dice_sub'
    alias cos='cd "$RAMSESEXEC"/cosmo'

    alias 3='cd "$RAMSESEXEC"/3merge'
    alias fdt='cd "$RAMSESEXEC"/fieldtest'

    alias mk='cd "$APPDIR"/ramses/bin_merger'
    alias mko='cd "$APPDIR"/ramses/bin_merger_original'
    alias mkc='cd "$APPDIR"/ramses/bin'
    alias mkd='cd "$APPDIR"/ramses/bin_dice'


    alias gomd='DATE=`date +%F_%Hh%M`; mpiexec -n 4 $APPDIR/ramses/bin_dice/ramses3d-merger-dice merger-dice.nml 2>"$DATE"_error.log | tee run_merger_dice_"$DATE".log'
    alias gom='DATE=`date +%F_%Hh%M`; mpiexec -n 4 $APPDIR/ramses/bin_merger/ramses3d-merger merger.nml 2>"$DATE"_error.log | tee run_merger_"$DATE".log'
    alias gomo='DATE=`date +%F_%Hh%M`; mpiexec -n 4 $APPDIR/ramses/bin_merger_original/ramses3d-merger merger.nml 2>"$DATE"_error.log | tee run_original_merger_"$DATE".log'





#-------------------------
# FUNCTIONS
#-------------------------

    function pmk {
        #------------------------------------------
        # shortcut for installing pNbody from
        # wherever you are
        #------------------------------------------
        pw=`pwd`
        cd $APPDIR/pNbody
        python setup.py build && python setup.py install --user
        cd $pw
        echo =============================================================
    }

    function rmlog {
        #--------------------------------------------
        # Remove log files.
        # First asks you if you want to remove all.
        # If no, then it'll ask you file by file.
        #--------------------------------------------
        while true; do
            read -p "Do you wish to delete all *.log files? (y/n) " yn
            case $yn in
                [Yy]* ) echo "removing all *.log files."; rm *.log; break;;
                [Nn]* ) rm -i *.log; exit;;
                * ) echo "Please answer yes or no.";;
            esac
        done
        echo "done"


        
    }

